/* ==== Body & Theme ==== */
body {
  font-family: 'Poppins', sans-serif;
  transition: background-color .3s, color .3s;
  background: #fff;
  color: #000;
}
body, .card, .list-group-item {
  transition: background-color .4s ease, color .4s ease;
}
body.dark-mode {
  background: #121212 !important;
  color: #fff !important;
}
body.dark-mode .card { background:#1e1e1e; color:#fff; }
body.dark-mode .list-group-item { background:#2a2a2a; color:#fff; }

/* ==== Sections ==== */
#todo-section, #completed-section {
  border-radius:10px;
  padding:15px;
  margin-bottom:20px;
  border:2px dashed #007bff;
}
#completed-section { border-color:#28a745; }
body.dark-mode #todo-section { border-color:#0d6efd; }
body.dark-mode #completed-section { border-color:#1db954; }

/* ==== List Items ==== */
li.todo-item {
  opacity:0;
  transform:translateY(10px);
  animation:fadeSlideIn .4s ease forwards;
  background-clip:padding-box;
  transition:background-color .35s cubic-bezier(.4,0,.2,1),
             transform .35s cubic-bezier(.4,0,.2,1),
             box-shadow .35s cubic-bezier(.4,0,.2,1);
  border-radius:0;
}
li.todo-item:hover {
  background:rgba(0,123,255,.05)!important;
  transform:scale(1.02) translateY(-1px);
  box-shadow:0 6px 18px rgba(0,0,0,.06);
  cursor:pointer;
}
body.dark-mode li.todo-item:hover {
  background:rgba(255,255,255,.06)!important;
  box-shadow:0 6px 18px rgba(255,255,255,.05);
}

/* Rounded corners for first/last items */
#todo-list .todo-item:first-child,
#completed-list .todo-item:first-child { border-top-left-radius:10px; border-top-right-radius:10px; }
#todo-list .todo-item:last-child,
#completed-list .todo-item:last-child { border-bottom-left-radius:10px; border-bottom-right-radius:10px; }
#todo-list .todo-item + .todo-item,
#completed-list .todo-item + .todo-item { margin-top:1px; }

/* ==== Badge Animations ==== */
.badge.bg-danger { animation:pulse 1s infinite alternate; }
@keyframes pulse { from{transform:scale(1);} to{transform:scale(1.1);} }

.badge.bg-warning { animation:shake .6s ease-in-out infinite; }
@keyframes shake { 0%{transform:translateX(0);}25%{transform:translateX(-2px);}50%{transform:translateX(2px);}75%{transform:translateX(-2px);}100%{transform:translateX(0);} }

/* ==== Buttons ==== */
.list-group-item .btn { margin-left:6px; transition:transform .2s ease; }
.list-group-item .btn:first-child { margin-left:0; }
.list-group-item .btn:hover { transform:scale(1.15); }

/* ==== History ==== */
#history-list { max-height:200px; overflow-y:auto; padding-right:4px; }
#history-list .list-group-item { font-size:.9rem; padding:6px 10px; line-height:1.3; }

/* ==== Animations ==== */
@keyframes fadeSlideIn { from{opacity:0;transform:translateY(10px);} to{opacity:1;transform:translateY(0);} }
li.todo-remove { animation: fadeSlideOut 0.4s forwards; }
@keyframes fadeSlideOut { from{opacity:1;transform:translateY(0);} to{opacity:0;transform:translateY(10px);} }

/* Misc */
.no-transition, .no-transition * { transition:none!important; }
:root{scrollbar-gutter:stable both-edges;}
html{overflow-y:scroll;}
